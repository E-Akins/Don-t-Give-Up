<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>&lt;undefined&gt;</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>0</depth>
  <persistent>0</persistent>
  <parentName>&lt;undefined&gt;</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>flash = false
menu = false
cursor = 0

//check flag to add points to highscore
highscore_flag = 1 
highscore_input = noone

menutype = "main"

/*menu tpyes:
main
controls
highscores
options
*/

menu0 = c_black
menu1 = c_black
menu2 = c_black
menu3 = c_black
menu4 = c_black

o_music = false
o_sfx = false

</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>flash = !flash

</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if (alarm[0] == -1 &amp;&amp; menu = false) alarm[0] = 5

if (menu &amp;&amp; !instance_exists(obj_fade))
{
    if (menutype == "main" || (menutype == "options" &amp;&amp; !o_sfx &amp;&amp; !o_music))
    {
        cursor += max(keyboard_check_pressed(vk_down),keyboard_check_pressed(ord("S")),0)
        cursor -= max(keyboard_check_pressed(vk_up),keyboard_check_pressed(ord("W")),0)
        if menutype = "main" cursor = scr_clamp_w_loop(cursor,0,4)
        if menutype = "options" cursor = scr_clamp_w_loop(cursor,0,3)
    }
    
    if (o_music)
    {
        global.music += max(keyboard_check_pressed(vk_right),keyboard_check_pressed(ord("D")),0)*0.1
        global.music -= max(keyboard_check_pressed(vk_left),keyboard_check_pressed(ord("A")),0)*0.1
        global.music = clamp(global.music,0,1)
        audio_sound_gain(thm_menu,global.music,0)
        audio_sound_gain(thm_game,global.music,0)
    }
    
    if (o_sfx)
    {
        global.sfx += max(keyboard_check_pressed(vk_right),keyboard_check_pressed(ord("D")),0)*0.1
        global.sfx -= max(keyboard_check_pressed(vk_left),keyboard_check_pressed(ord("A")),0)*0.1
        global.sfx = clamp(global.sfx,0,1)    
        audio_sound_gain(sfx_powerup,global.sfx,0)
        audio_sound_gain(sfx_hurt4,global.sfx,0)
        audio_sound_gain(sfx_bear1,global.sfx,0)
        audio_sound_gain(sfx_bear2,global.sfx,0)
        audio_sound_gain(sfx_bear3,global.sfx,0)
        audio_sound_gain(sfx_rock,global.sfx,0)    
        audio_sound_gain(sfx_bloom,global.sfx,0)   
        audio_sound_gain(sfx_running,global.sfx,0) 
        audio_sound_gain(sfx_applause,global.sfx,0)    
        
        if (keyboard_check_pressed(vk_right) || keyboard_check_pressed(vk_left) || keyboard_check_pressed(ord("D")) || keyboard_check_pressed(ord("A")))                
            audio_play_sound(sfx_powerup,10,false)         
    }  
    
    menu0 = c_black
    menu1 = c_black
    menu2 = c_black
    menu3 = c_black
    menu4 = c_black
    
    switch (cursor)
    {
        case 0:
            menu0 = c_blue
            break
        case 1:
            menu1 = c_blue
            break            
        case 2:
            menu2 = c_blue
            break        
        case 3:
            menu3 = c_blue
            break        
        case 4:
            menu4 = c_blue
            break        
    }
    
    if (keyboard_check_pressed(vk_enter))
    {
        switch (menutype) 
        {
            //Controls Menu
            case "controls":
            {
                //Go back to the main menu
                menutype = "main"
                cursor = 0
                break
            }
            
            //Display Highscores
            case "highscores":
            {
                //Go back to the main menu
                if !instance_exists(obj_highscore_add)
                {
                    menutype = "main"
                    cursor = 0
                    global.pointspass = 0 //resets pointspass from previous games    
                }
                break
            }
            
            //Options Menu
            case "options":
            {
                switch(cursor)
                {
                    //Full Screen
                    case 0:
                        if window_get_fullscreen()
                        {
                            window_set_fullscreen(false)
                            global.fullscreeen = false
                        }
                        else
                        {
                            window_set_fullscreen(true)
                            global.fullscreen = true
                        }
                            
                        break
                        
                    //Music Volume
                    case 1:
                        o_music = !o_music
                        break
                        
                    //Sfx Volume
                    case 2:
                        o_sfx = !o_sfx
                        break
                    
                    //Main Menu
                    case 3:
                        menutype = "main"
                        cursor = 0
                }
                break
            }
            
            
            //Main Menu
            case ("main"):
            {
                switch (cursor)
                {
                    // Play the Game
                    case 0:
                        inst = instance_create(0,0,obj_fade)
                        inst.destination = rm_game
                        break
                    
                    // Show the Controls
                    case 1:
                        menutype = "controls"
                        cursor = 2
                        break
                    
                    // Show the highscores
                    case 2:
                        menutype = "highscores"
                        cursor = 0
                        break
                    
                    // Show the options
                    case 3:
                        menutype = "options"
                        cursor = 0
                        break
                    
                    // Exit the Game
                    case 4:
                        game_end()
                        break
                    }
            }
        }
    }
}
if (keyboard_check_pressed(vk_enter) &amp;&amp; !menu)
{
    menu = true
    flash = false
    alarm[0] = -1
}

if (instance_exists(obj_fade)) image_alpha = 1 - obj_fade.alpha





</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="8" enumb="64">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>
draw_set_font(ft_title)
draw_set_color(c_black)
draw_set_halign(fa_center)
draw_set_valign(fa_middle)

// Title
if (menutype != "highscores" &amp;&amp; menutype != "options") 
{
    draw_sprite_ext(spr_title,0,display_get_gui_width()/2,display_get_gui_height()/3+10,2.5,2.5,0,c_white,image_alpha)
    //draw_text(display_get_gui_width()/2,display_get_gui_height()/3,"Sprout Dash")
}

var ht = string_height("Don't Give Up!")
 
if (!menu)
    draw_sprite_ext(spr_button2,0,display_get_gui_width()/2,display_get_gui_height()/3+ht+250+20,1.2,1.2,0,c_white,image_alpha)
   
if (flash)
{
    draw_set_font(ft_start_menu)
    draw_text_transformed(display_get_gui_width()/2,display_get_gui_height()/3+ht+20+250,"Press Enter to Play",1,1,2.5)
}

//draw main menu
if (menu &amp;&amp; !instance_exists(obj_fade) &amp;&amp; menutype = "main")
{
    draw_set_font(ft_start_menu)
    
    draw_sprite_ext(spr_button,0,display_get_gui_width()/2,display_get_gui_height()/3+ht+250+90,1,1,0,c_white,image_alpha)
    draw_text_colour(display_get_gui_width()/2,display_get_gui_height()/3+ht+250,"Play",menu0,menu0,menu0,menu0,1)
    ht += string_height("Play")
    draw_text_colour(display_get_gui_width()/2,display_get_gui_height()/3+ht+250,"Controls",menu1,menu1,menu1,menu1,1)
    ht += string_height("Controls")
    draw_text_colour(display_get_gui_width()/2,display_get_gui_height()/3+ht+250,"Highscores",menu2,menu2,menu2,menu2,1)
    ht += string_height("Highscores")
    draw_text_colour(display_get_gui_width()/2,display_get_gui_height()/3+ht+250,"Options",menu3,menu3,menu3,menu3,1)
    ht += string_height("Options")
    draw_text_colour(display_get_gui_width()/2,display_get_gui_height()/3+ht+250,"Exit",menu4,menu4,menu4,menu4,1)
}

//draw controls menu
if (menu &amp;&amp; !instance_exists(obj_fade) &amp;&amp; menutype = "controls")
{

    //draw_sprite()
    
    draw_set_font(ft_start_menu)
    draw_text_colour(display_get_gui_width()/2,display_get_gui_height()/3+ht,"WASD: Movement",menu0,menu0,menu0,menu0,1)
    ht += string_height("WASD: Movement")
    draw_text_colour(display_get_gui_width()/2,display_get_gui_height()/3+ht,"J: Rain",menu1,menu1,menu1,menu1,1)
    ht += string_height("J: Rain")
    draw_text_colour(display_get_gui_width()/2,display_get_gui_height()/3+ht,"Main Menu",menu2,menu2,menu2,menu2,1)
    ht += string_height("Main Menu")
}

//draw options menu
if (menu &amp;&amp; !instance_exists(obj_fade) &amp;&amp; menutype = "options")
{
    draw_set_font(ft_options)
    
    draw_sprite_ext(spr_button,0,150*6 + 150*.45,150*4,6,2,0,c_white,1)
    
    if window_get_fullscreen()
    {
        draw_text_colour(display_get_gui_width()/2,display_get_gui_height()/3+ht - 80,"Full Screen: Windowed",menu0,menu0,menu0,menu0,1)
        ht += string_height("Full Screen: Windowed")
    }
    else
    {
        draw_text_colour(display_get_gui_width()/2,display_get_gui_height()/3+ht - 80,"Full Screen: Full Screen",menu0,menu0,menu0,menu0,1)
        ht += string_height("Full Screen: Full Screen")
    }
    
    draw_set_color(c_black)
    draw_set_halign(fa_right)
    draw_set_valign(fa_middle)    
    
    var flower_m = global.music * 10
    
    switch (flower_m)
    {
        case 0:
        case 1:
        case 2:
        case 3:
            var subimage = 0
            break
        
        case 4:
        case 5:    
        case 6:
            var subimage = 1
            break
    
        case 7:
        case 8:
        case 9:
        case 10:
            var subimage = 2
            break
    }
    
    for (var i = 0; i &lt; flower_m; i++)
    {
        draw_sprite_ext(spr_flower1,subimage,display_get_gui_width()/4 + sprite_get_width(spr_flower1)*.25*i + string_width("Music Volume: ") - 25,display_get_gui_height()/3+ht - 60,.25,.25,0,c_white,1)
    }  
    draw_text_colour(display_get_gui_width()/2.5,display_get_gui_height()/3+ht - 60,"Music Volume: ",menu1,menu1,menu1,menu1,1)
    ht += string_height("Music Volume: ")
    
    var flower_s = global.sfx * 10
    
    switch (flower_s)
    {
        case 0:
        case 1:
        case 2:
        case 3:
            var subimage = 0
            break
        
        case 4:
        case 5:    
        case 6:
            var subimage = 1
            break
    
        case 7:
        case 8:
        case 9:
        case 10:
            var subimage = 2
            break
    }    
    
    for (var i = 0; i &lt; flower_s; i++)
    {
        draw_sprite_ext(spr_flower2,subimage,display_get_gui_width()/4 + sprite_get_width(spr_flower1)*.25*i + string_width("Music Volume: ") - 25,display_get_gui_height()/3+ht - 40,.25,.25,0,c_white,1)
    }
    draw_text_colour(display_get_gui_width()/2.5,display_get_gui_height()/3+ht - 40,"SFX Volume: ",menu2,menu2,menu2,menu2,1)
    ht += string_height("Sfx Volume: ")
    
    draw_set_color(c_black)
    draw_set_halign(fa_center)
    draw_set_valign(fa_middle)    
    
    draw_text_colour(display_get_gui_width()/2,display_get_gui_height()/3+ht,"Main Menu",menu3,menu3,menu3,menu3,1)
    ht += string_height("Main Menu")
}

//draw highscores
if (menu &amp;&amp; !instance_exists(obj_fade) &amp;&amp; menutype = "highscores")
{
    draw_sprite_ext(spr_button,0,display_get_gui_width()/2,display_get_gui_height()/2-ht/3,3,3.75,0,c_white,1)
    draw_highscore(string_width("AAA")/2+display_get_gui_width()/3,display_get_gui_height()/10*1,display_get_gui_width()/3*2,display_get_gui_height()/10*9)
    draw_sprite(spr_coach,0,display_get_gui_width()/20*3,display_get_gui_height()/10*3)
    draw_set_font(ft_start_menu)
    ht += string_height("Main Menu")
    draw_text_colour(display_get_gui_width()/2,display_get_gui_height()/4*3+ht,"Main Menu",menu0,menu0,menu0,menu0,1)
   
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints/>
</object>
